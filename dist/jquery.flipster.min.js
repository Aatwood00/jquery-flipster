/*! jQuery.Flipster, v1.0.0 (built 2015-06-08) */
!function(a,b,c){"use strict";function d(a,b){var c=null;return function(){var d=this,e=arguments;null===c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}}var e=function(){var a;return function(b){if(a!==c)return a;var d=document.createElement("div"),e=d.style,f=b.charAt(0).toUpperCase()+b.slice(1),g=["webkit","moz","ms","o"],h=(b+" "+g.join(f+" ")+f).split(" ");for(var i in h)if(h[i]in e)return a=h[i],h[i];return a=!1,!1}}(),f="http://www.w3.org/2000/svg",g=function(){var a;return function(){if(a!==c)return a;var b=document.createElement("div");return b.innerHTML="<svg/>",a=b.firstChild&&b.firstChild.namespaceURI==f}}();a.fn.flipster=function(h){var i="string"==typeof h?!0:!1;if(i){var j=Array.prototype.slice.call(arguments,1);return this.each(function(){var b=a(this).data("methods");return b[h]?b[h].apply(this,j):this})}var k={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},l=a.extend({},k,h),m=a(b),n=e("transform"),o={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},p=new RegExp("\\b("+o.itemCurrent+"|"+o.itemPast+"|"+o.itemFuture+")(.*?)(\\s|$)","g");return this.each(function(){function b(a){var b="next"===a?l.buttonNext:l.buttonPrev;return"custom"!==l.buttons&&g?'<svg viewBox="0 0 13 20" xmlns="'+f+'" aria-labelledby="title"><title>'+b+'</title><polyline points="10,3 3,10 10,17"'+("next"===a?' transform="rotate(180 7,10)"':"")+"/></svg>":b}function e(c){return c=c||"next",a('<button class="'+o.button+" "+("next"===c?o.buttonNext:o.buttonPrev)+'" role="button" />').html(b(c)).on("click",function(a){u(c),a.preventDefault()})}function h(){l.buttons&&G.length>1&&(L.find("."+o.button).remove(),L.append(e("prev"),e("next")))}function i(){if(l.nav&&!(G.length<=1)){I&&I.remove();var b={};I=a('<ul class="'+o.nav+'" role="navigation" />'),K=a(""),G.each(function(c){var d=a(this),e=d.data("flip-category"),f=d.data("flip-title")||d.attr("title")||c,g=a('<a href="#" class="'+o.navLink+'">'+f+"</a>").data("index",c);if(K=K.add(g),e){if(!b[e]){var h=a('<li class="'+o.navItem+" "+o.navCategory+'">'),i=a('<a href="#" class="'+o.navLink+" "+o.navCategoryLink+'" data-flip-category="'+e+'">'+e+"</a>").data("category",e).data("index",c);b[e]=a('<ul class="'+o.navChild+'" />'),K=K.add(i),h.append(i,b[e]).appendTo(I)}b[e].append(g)}else I.append(g);g.wrap('<li class="'+o.navItem+'">')}),I.on("click","a",function(b){var c=a(this).data("index");c>=0&&(u(c),b.preventDefault())}),"after"===l.nav?L.append(I):L.prepend(I),J=I.find("."+o.navItem)}}function j(){if(l.nav){var b=H.data("flip-category");J.removeClass(o.navCurrent),K.filter(function(){return a(this).data("index")===N||a(this).data("category")===b}).parent().addClass(o.navCurrent)}}function k(){L.css("transition","none"),E.css("transition","none"),G.css("transition","none")}function q(){L.css("transition",""),E.css("transition",""),G.css("transition","")}function r(){var b,c=0;return G.each(function(){b=a(this).height(),b>c&&(c=b)}),c}function s(b){b&&k(),F=E.width(),E.height(r()),G.each(function(c){var d=a(this);d.attr("class",function(a,b){return b&&b.replace(p,"").trim()});var e,f=d.outerWidth();0!==l.spacing&&d.css("margin-right",f*l.spacing+"px"),e=d.position().left,M[c]=-1*(e+f/2-F/2),c===G.length-1&&(t(),b&&setTimeout(q,1))})}function t(){var b,d,e,f=G.length;G.each(function(c){b=a(this),d=" ",c===N?(d+=o.itemCurrent,e=f+1):N>c?(d+=o.itemPast+" "+o.itemPast+"-"+(N-c),e=c):(d+=o.itemFuture+" "+o.itemFuture+"-"+(c-N),e=f-c),b.css("z-index",e).attr("class",function(a,b){return b&&b.replace(p,"").trim()+d})}),N>=0&&(F&&M[N]!==c||s(!0),n?E.css("transform","translateX("+M[N]+"px)"):E.css({left:M[N]+"px"})),j()}function u(a){var b=N;if(!(G.length<=1))return"prev"===a?N>0?N--:l.loop&&(N=G.length-1):"next"===a?N<G.length-1?N++:l.loop&&(N=0):"number"==typeof a?N=a:a!==c&&(N=G.index(a)),H=G.eq(N),N!==b&&l.onItemSwitch&&l.onItemSwitch.call(L,G[N],G[b]),t(),L}function v(a){return l.autoplay=a||l.autoplay,clearInterval(O),O=setInterval(function(){var a=N;u("next"),a!==N||l.loop||clearInterval(O)},l.autoplay),L}function w(){return clearInterval(O),l.autoplay&&(O=-1),L}function x(){s(!0),L.hide().css("visibility","").addClass(o.active).fadeIn(l.fadeIn)}function y(){return E=L.find(l.itemContainer).addClass(o.container),G=E.find(l.itemSelector),G.length<=1?void 0:(G.addClass(o.item).each(function(){var b=a(this);b.children("."+o.itemContent).length||b.wrapInner('<div class="'+o.itemContent+'" />')}),l.click&&G.on("click.flipster touchend.flipster",function(b){P||(a(this).hasClass(o.itemCurrent)||b.preventDefault(),u(this))}),h(),i(),N>=0&&u(N),L)}function z(a){l.keyboard&&(a[0].tabIndex=0,a.on("keydown.flipster",d(function(a){var b=a.which;37===b?(u("prev"),a.preventDefault()):39===b&&(u("next"),a.preventDefault())},250,!0)))}function A(a){if(l.scrollwheel){var b,c,e=!1,f=0,g=0,h=0;a.on("mousewheel.flipster wheel.flipster",function(){e=!0}).on("mousewheel.flipster wheel.flipster",d(function(a){clearTimeout(g),g=setTimeout(function(){f=0,h=0},300),a=a.originalEvent,h+=a.wheelDelta||-1*(a.deltaY+a.deltaX),Math.abs(h)<25||(f++,b=h>0?"prev":"next",c!==b&&(f=0),c=b,(6>f||f%3===0)&&u(b),h=0)},50)),m.on("mousewheel.flipster wheel.flipster",function(a){e&&(a.preventDefault(),e=!1)})}}function B(a){if(l.touch){var b,c,e,f,g=!1,h=d(u,300);a.on({"touchstart.flipster":function(a){a=a.originalEvent,P=a.touches?a.touches[0].clientX:a.clientX,g=a.touches?a.touches[0].clientY:a.clientY},"touchmove.flipster":d(function(a){P!==!1&&(a=a.originalEvent,b=a.touches?a.touches[0].clientX:a.clientX,c=a.touches?a.touches[0].clientY:a.clientY,e=c-g,f=b-P,Math.abs(e)<100&&Math.abs(f)>=30&&(h(0>f?"next":"prev"),P=b,a.preventDefault()))},100),"touchend.flipster touchcancel.flipster ":function(){P=!1}})}}function C(){if(L.css("visibility","hidden"),y(),G.length<=1)return void L.css("visibility","");L.addClass([o.main,n?"flipster--transform":" flipster--no-transform",l.style?"flipster--"+l.style:"",l.click?"flipster--click":""].join(" ")),l.start&&(N="center"===l.start?Math.floor(G.length/2):l.start),u(N);var a=L.find("img");if(a.length){var b=0;a.on("load",function(){b++,b>=a.length&&x()}),setTimeout(x,750)}else x();m.on("resize.flipster",d(s,400)),l.autoplay&&v(),l.pauseOnHover&&E.on("mouseenter.flipster",w).on("mouseleave.flipster",function(){-1===O&&v()}),z(L),A(E),B(E)}var D,E,F,G,H,I,J,K,L=a(this),M=[],N=0,O=!1,P=!1;D={jump:u,next:function(){return u("next")},prev:function(){return u("prev")},play:v,pause:w,index:y},L.data("methods",D),L.hasClass(o.active)||C()})}}(jQuery,window);